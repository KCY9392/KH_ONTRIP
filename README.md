

# KH_ONTRIP Project
## :busts_in_silhouette: íŒ€ëª…: ì‹œë‚˜ë¸Œë¡œ
ì‹œë‚˜ë¸Œë¡œë€ ì²œì²œíˆ ì¡°ê¸ˆì”© ë¶€ì¡±í•œ ë¶€ë¶„ì„ ì„œë¡œ ì±„ì›Œë‚˜ê°€ì„œ ì„±ì¥í•´ë‚˜ê°„ë‹¤ëŠ” ì˜ë¯¸ë¡œ,
ì €í¬ íŒ€ì›ë“¤ì´ ì„œë¡œ ë¶€ì¡±í•œ ë¶€ë¶„ì„ ì±„ì›Œì£¼ë©°,ì ì  ì„±ì¥í•´ë‚˜ê°€ì„œ í€„ë¦¬í‹° ì¢‹ì€ í”„ë¡œì íŠ¸ë¥¼ í•´ë‚´ìëŠ” ì˜ë¯¸ë¡œ íŒ€ëª…ì„ ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
### [OnTrip] ì—¬í–‰ì½”ìŠ¤ ì¶”ì²œ & ì˜ˆì•½ ì›¹ì‚¬ì´íŠ¸

<br>
<img src="https://user-images.githubusercontent.com/113049166/217443399-0394c1cb-66bf-4bf1-a4b9-4de63cdebeea.png">

<br>

## <img src="https://user-images.githubusercontent.com/113049166/222699301-ce14e886-186b-4241-91fc-132ba832cbe9.png" width="35px" height="35px"> í”„ë¡œì íŠ¸ì†Œê°œ

 <img src="https://user-images.githubusercontent.com/113049166/217443263-16ab6f38-9476-4926-a6f1-1cd5d70a70b5.png" width="80%" height="20%">

<br>

## <img src="https://user-images.githubusercontent.com/113049166/222700339-680fc1d0-6047-48e2-8f3e-4c55c9916e82.png" width="35px" height="35px"> ì—…ë¬´ë¶„ë‹´

 <img src="https://user-images.githubusercontent.com/113049166/222875251-f172a0ef-8dea-492e-bf31-1d05af0c8709.png" width="80%" height="20%">

<table style="margin-left: auto; margin-right: auto; width: 600px; height: 200px;">
            <tr>
                <td>ì´ë¦„</td>
                <td>ê¹€ì±„ì˜</td>
                <td>ì†¡ì§€í˜¸</td>
                <td>ì´ë²”ì„</td>
                <td>í™©ì¢…ìˆ˜</td>
                <td>ì¡°ì„±ìš°</td>
            </tr>
            <tr>
                <td>GitHub</td>
                <td><a href="https://github.com/KCY9392">@KCY9392</a></td>
                <td><a href="https://github.com/SongJiho1998">@SongJiho1998</a></td>
                <td><a href="https://github.com/qjatjr0513">@qjatjr0513</a></td>
                <td><a href="https://github.com/prodaniel93">@prodaniel93</a></td>
                <td><a href="https://github.com/jay11234511">@jay11234511</a></td>
            </tr>
  </table>
  
  <br>
  
## :computer: ê°œë°œí™˜ê²½
### :pencil: Front-End
<div>
	<img src="https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=HTML5&logoColor=white" />
	<img src="https://img.shields.io/badge/CSS3-1572B6?style=flat&logo=CSS3&logoColor=white" />
	<img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat&logo=JavaScript&logoColor=white" />
	<img src="https://img.shields.io/badge/jQuery-0769AD?style=flat&logo=jQuery&logoColor=white" />	
	<img src="https://img.shields.io/badge/Bootstrap-7952B3?style=flat&logo=Bootstrap&logoColor=white" />
</div>
	
   ### :pencil: Back-End
<div>
	<img src="https://img.shields.io/badge/Java-007396?style=flat&logo=Java&logoColor=white" />
	<img src="https://img.shields.io/badge/Oracle-F80000?style=flat&logo=Oracle&logoColor=white" />
	<img src="https://img.shields.io/badge/Apache Tomcat-F8DC75?style=flat&logo=Apache Tomcat&logoColor=white" />
</div>

  ## :computer: Tool	
<div>
   <img src="https://img.shields.io/badge/Eclipse IDE-2C2255?style=flat&logo=Eclipse IDE&logoColor=white" />
	<img src="https://img.shields.io/badge/Discord-5865F2?style=flat&logo=Discord&logoColor=white" />
	<img src="https://img.shields.io/badge/GitHub-181717?style=flat&logo=GitHub&logoColor=white" />	
</div>

<br>

## :book: í”„ë¡œì íŠ¸ ì‘ì—… ê¸°ê°„
- 2022.10.24-2022.10.27 : í”„ë¡œì íŠ¸ ê¸°íš ë° ìš”êµ¬ì‚¬í•­ ë¶„ì„
- 2022.10.28-2022.11.02 : í™”ë©´ì„¤ê³„ 
- 2022.11.03-2022.11.08 : DBì„¤ê³„
- 2022.11.09-2022.11.28 : ê¸°ëŠ¥ êµ¬í˜„
  
<br>

## ğŸ˜€ ER-DIAGRAM , USECASE-DIAGRAM
<table>
<tr>
	<th>
	  ER-DIAGRAM
	</th>
	<th>
	  USECASE-DIAGRAM
	</th>
</tr>
<tr>
	<td width="50%">
		<img src="https://user-images.githubusercontent.com/113049166/222875314-82417840-b0bb-4895-a153-c651c81f266c.png" width="600" height="200"/>
	</td>
	<td width="50%">
		<img src="https://user-images.githubusercontent.com/113049166/222875346-0b5c2707-4995-49a0-a1ad-518aaf23cc20.jpg" width="600" height="200"></td>
</tr>
</table>

<br>

## ğŸ˜† UI
<table>
<tr>
	<th>
		ì‹œì‘í˜ì´ì§€
	</th>
	<th>
		ë©”ì¸í˜ì´ì§€
	</th>

</tr>
<tr>
	<td width="30%">
		<img src="https://user-images.githubusercontent.com/106515028/218248617-77700c59-5ae9-49ec-ab5d-9507038417aa.png" width="600" height="200"/>
	</td>
	<td width="30%">
		<img src="https://user-images.githubusercontent.com/106515028/218249053-47be0b72-7aa1-48a7-a31d-48f4730cabd8.png" width="600" height="200"></td>

</tr>
<tr>
	<th>
	    ì§€ì—­ì •ë³´
	</th>
	<th>í•´ë‹¹ì§€ì—­ì˜ ì‹œì„¤ì •ë³´</th>
</tr>
<tr>
	<td>
	 <img src="https://user-images.githubusercontent.com/106515028/218249213-f37d2b31-906f-489d-953d-fd4ba914fa7c.png" width="600" height="200"/>
	</td>
	<td>
	  <img src="https://user-images.githubusercontent.com/106515028/218249423-8deb878e-c599-4537-ae02-3a8784b558bd.png" width="600" height="200"/>
	</td>
</tr>
<tr>
	<th>ì‹œì„¤ì´ìš©í›„ê¸°
	</th>
	<th>
	    ì‹œì„¤ì´ìš©í›„ê¸° ìƒì„¸
	</th>
</tr>
<tr>

	<td>
	  <img src="https://user-images.githubusercontent.com/113049166/222876375-19d98e68-59b1-4577-ad10-914b4bb159ea.png" width="600" height="200"/>
	</td>
	<td>
	  <img src="https://user-images.githubusercontent.com/113049166/222876384-9d2364d9-3a73-46f8-897b-e691942d8cd0.png" width="600" height="200"/>
	</td>
<tr>
<tr>
	<th>ì‹œì„¤ì„ íƒì°½
	</th>
	<th>
	    ì˜ˆì•½ì°½
	</th>
</tr>
<tr>
	<td>
	   <img src="https://user-images.githubusercontent.com/113049166/222876421-c01e6293-cd9d-400f-8279-994c92efa151.png" width="600" height="200"/>
	</td>
	<td>
	   <img src="https://user-images.githubusercontent.com/113049166/222876445-49fa0704-c9c9-4973-a64e-10beb288cda5.png" width="600" height="200"/>
	</td>
<tr>
<tr>
	<th>ì˜ˆì•½í™•ì¸ì°½
	</th>
	<th>
	    ë§ˆì´í˜ì´ì§€
	</th>
</tr>
<tr>
	<td>
	   <img src="https://user-images.githubusercontent.com/113049166/222876477-9cbc17d6-c3af-43af-b4fa-c2f208fdcb03.png" width="600" height="200"/>
	</td>
	<td>
	   <img src="https://user-images.githubusercontent.com/113049166/222876488-c1c6b3d2-a06f-4c2a-ace5-0bea2a0476c6.png" width="600" height="200"/>
	</td>
<tr>	
</table>

<br>
  
## ğŸŒŸ ì£¼ìš”ê¸°ëŠ¥
#### 1) ì±„íŒ…ì²¨ë¶€íŒŒì¼ ë³´ë‚´ê¸° ê¸°ëŠ¥

<img src="https://user-images.githubusercontent.com/113049166/222718256-1cf90370-c99d-4f9d-b6e3-24cd6e9f16c2.png" width="80%" height="20%">

	/* ì±„íŒ… ë³´ë‚´ê¸° ë²„íŠ¼ ëˆŒë €ì„ ê²½ìš°, */
           $("#send").on('click',function(){
        	   $.ajax({
                   type: "post",
                   url: "${pageContext.request.contextPath}/chat/chatFile/insert",
                   data: new FormData($("#uploadfileForm")[0]),
                   processData: false,
                   contentType: false,
                   success: function (rsp) {
                	   
                	   let changeName = rsp.changeName;
                       let originName = rsp.originName;
                	   
                       let ext = originName.split('.').pop().toLowerCase();
                       if ($.inArray(ext, ['jpg', 'jpeg', 'png', 'gif']) != -1) {
                    	   
                    	   let wsJson = {
                    			   "chatContent": "<img src='/tresure/resources/images/chat/"+changeName+"' style='width: 200px'><br>",
                    			   "chatRoomNo": chatRoomNo,
                                   "userNo": userNo
                    	   };
                    	   //JSON ì „ì†¡
                           $("#uploadfile").val("");
                           ws.send(JSON.stringify(wsJson));
                           $(".chatImageBeforeSetImage").css('display','none');
                           $('#View').attr('src', "");
                           return false;
                       }
                	   
                   },
                   error : function(data){
                	 alert("ì˜¤ë¥˜");   
                   }
                });
           });
	   

1. [ë³´ë‚´ê¸°] ë²„íŠ¼ ëˆ„ë¥¼ê²½ìš°, ajaxë¡œ input fileì•ˆì˜ ë°ì´í„°ë¥¼ formìœ¼ë¡œ ê°ì‹¸ì„œ chatFile/insert urlë¡œ postë°©ì‹ìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹¤. 
2. ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ ë°›ì€ controllerì—ì„œ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ì„œë²„ì €ì¥í´ë”ë¥¼ ìƒì„±,ì´ë¯¸ì§€ ì €ì¥í•˜ê³ 
3. DBì— ì´ë¯¸ì§€ë¥¼ ë“±ë¡ì‹œí‚¤ë„ë¡ serviceë‹¨ìœ¼ë¡œ ì´ë¯¸ì§€ê°ì²´ë¥¼ ë„˜ê¹ë‹ˆë‹¤. 
4. ì´ë¯¸ì§€ì˜ ì›ë³¸ëª…, ìˆ˜ì •ëª…ì„ mapì— ë‹´ì•„ì„œ ajaxê²°ê³¼ê°’ìœ¼ë¡œ ë³´ë‚´ì£¼ê³ , ê·¸ ê²°ê³¼ê°’ì¸ ì´ë¯¸ì§€ ì •ë³´ë¥¼ ì´ë¯¸ì§€íƒœê·¸ë¡œ ë§Œë“¤ê³ , Jsonê°ì²´ë¡œ ê°ì‹¸ì„œ Websocketì— sendí•©ë‹ˆë‹¤.
5. ê·¸ ê²°ê³¼, ì±„íŒ…ì°½ì— ì´ë¯¸ì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.

<br><br>
#### 2) ìµœê·¼ ë³¸ ìƒí’ˆ ê¸°ëŠ¥
<table>
<tr>
	<th>
	  ì•„ì§ ìƒí’ˆ ì¡°íšŒ X
	</th>
	<th>
	  ìƒí’ˆì¡°íšŒ
	</th>
	<th>
	  ìƒí’ˆ ì¡°íšŒ ì‹œ,
	</th>
</tr>
<tr>
	<td width="10%">
		<img src="https://user-images.githubusercontent.com/113049166/222720430-4e92aa76-e435-4bbe-9f24-fb811c8abb7b.png" width="600" height="200"/>
	</td>
	<td width="30%">
		<img src="https://user-images.githubusercontent.com/113049166/222720807-f550b0b2-3bdf-4fe1-8ffd-7e42a13c6d27.png" width="600" height="200"></td>
	<td width="10%">
		<img src="https://user-images.githubusercontent.com/113049166/222720824-7beb0401-97af-4b95-a07e-ad04cdf4266f.png" width="600" height="200"></td>
</tr>
</table>

	// localStorageì—ì„œ products í‚¤ê°’ ê°€ì ¸ì˜¤ê¸°.
	let sideBarProducts = localStorage.getItem("products");

	// ë§Œì•½ productsê°€ undefinedê°€ ì•„ë‹ˆë¼ë©´ list ë³€ìˆ˜ì— JSON.parse(sideBarProducts)ë¥¼ í†µí•´ì„œ JSON Arrayë¥¼ ë§Œë“¤ê³ , ê·¸ê²Œ ì•„ë‹ˆë¼ë©´ list ë³€ìˆ˜ë¥¼ ìƒˆë¡œìš´ ë°°ì—´ë¡œ ìƒì„±í•œë‹¤.
	let sideBarList = sideBarProducts ? JSON.parse(sideBarProducts) : [];

	<c:choose>
		<c:when test="${sessionScope.loginUser != null}">
			let sideBarUrl = "${pageContext.request.contextPath}/recent/" + (sideBarList ? "update" : "products");

			$.ajax({
				   async : false,
				   url : sideBarUrl,
				   data : JSON.stringify(sideBarList),
				   type : "post",
				   dataType : "json",
				   contentType : "application/json",
				   success : function(data) {

					localStorage.removeItem("products");
					$("#nrecentlyList").children().remove();
					$(data).each((i, elem) => {
						if (elem.crawl == "N") {
							elem.imgSrc = "${pageContext.request.contextPath}" + elem.imgSrc;
						}
						console.log("ë¡œê·¸ì¸ ëœ ìƒíƒœ -> href : ${pageContext.request.contextPath}/sell/sellDetail/" 
								+ elem.sellNo, ", imgSrc :", elem.imgSrc, ", crawl:", elem.crawl);
						$("#nrecentlyList").append($("<li>")
								   .append($("<a>", { href : "${pageContext.request.contextPath}/sell/sellDetail/" + elem.sellNo })
								   .append($("<img>", { src : elem.imgSrc }).addClass("nrecentlyImage")))
								   .append($("<input>", {type : "hidden", name : "recentNo", value : elem.recentNo}))
								   .append($("<input>", {type : "hidden", name : "sellNo", value : elem.sellNo}))
								   .append($("<input>", {type : "hidden", name : "imgSrc", value : elem.imgSrc}))
								   .append($("<input>", {type : "hidden", name : "crawl", value : elem.crawl}))
								   .append($("<button>", { text : "X", class : "deleteBtn" })))
						});
						$("#nrecentlyCnt").text(data.length);
					},
				   error : function() {
						console.log("ì˜¤ë¥˜ ë°œìƒ");
					}
				});
		</c:when>
	<c:otherwise>


- ë¡œì»¬ìŠ¤í† ë¦¬ì§€ë¥¼ ì´ìš©í•˜ì—¬ì„œ ìƒí’ˆì„ í´ë¦­ ì‹œ, ìƒí’ˆìƒì„¸í˜ì´ì§€ë¡œ ì´ë™í• ë•Œ ìƒí’ˆì •ë³´ë¥¼ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì„¸íŒ…í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. 
1. itemë³€ìˆ˜ì— ìƒí’ˆê°ì²´ë¥¼ ë‹´ê³ , 
2. 2ê°œì´ìƒì˜ ìƒí’ˆì„ ì €ì¥í•˜ê¸°ìœ„í•´ ë‹¤ì‹œ listë°°ì—´ì— ë‹´ì•„ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ í‚¤ê°’ì— ì €ì¥ì‹œí‚µë‹ˆë‹¤.
3. ì´ë•Œì˜ í‚¤ê°’ì„ sidebar.jspì— ì „ë‹¬ì‹œí‚¤ê³  ì´ë¯¸ì§€ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

<br><br>







